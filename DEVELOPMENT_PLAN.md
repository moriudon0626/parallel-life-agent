# 開発計画書 - Parallel Life Agent

## 概要
プレイヤーが直接操作するのではなく、AIロボットと会話することで世界に働きかけるゲーム。
生存・エコシステム・戦闘・リプレイ機能を段階的に実装。

---

## Phase 1: 生存基盤（実装完了 ✅）

### 1.1 ロボット・クリッターの基本ステータス ✅
- **ロボット**: バッテリー、耐久度、内部温度
- **クリッター**: 体力、空腹、疲労
- 時間経過による消耗システム

### 1.2 リソース管理の拡張 ✅
- 20種類以上のリソース追加
- 品質システム（0.5-1.5倍）
- 危険度レベル
- 採取時のダメージ判定

### 1.3 環境脅威システム ✅
- 天候イベント（嵐、熱波、吹雪、干ばつ）
- シェルター保護メカニクス
- 環境ダメージ適用
- 警告システム

### 1.4 建築・クラフトシステム ✅
- 5種類の建造物（テント、倉庫、充電ステーション、木造シェルター、作業場）
- 建設進捗管理
- 素材消費システム
- 建物の効果範囲

### 1.5 リアルタイムスコアシステム ✅
- 4カテゴリスコア（生存、開発、戦闘、知識）
- ランク制（D→C→B→A→S→SS）
- 14種類のアチーブメント
- タイムライン記録

### 1.6 UI統合 ✅
- スコアパネル
- ロボットステータスパネル
- インベントリパネル
- アクティビティログパネル

**残課題**:
- アクティビティログへの実際の記録処理（イベント発生時に呼び出す）
- UI日本語化
- ゲームループとの統合（リソース採取、建築、ダメージ処理の実装）

---

## Phase 2: 知識とエコシステム（未実装）

### 2.1 知識システム
- 発見可能な知識カード（100種類）
- カテゴリ：技術、生物学、文化、歴史、環境
- 知識の連鎖と解放条件
- ロボットメモリとの統合

### 2.2 エコシステム
- 植物の成長サイクル
- 動物の繁殖と捕食
- 資源の再生成ルール
- 環境バランス指標

### 2.3 会話システム強化
- 知識に基づく会話内容の変化
- クリッター間の情報伝達
- 教育・学習メカニクス

---

## Phase 3: 戦闘と脅威（未実装）

### 3.1 敵対生物
- 野生の捕食者
- 敵対的なロボット群
- 巨大生物（ボス）

### 3.2 戦闘システム
- 戦闘統計（勝利、敗北、逃走）
- 装備・武器システム
- 防御施設の建設

### 3.3 大災害イベント
- 大規模な嵐
- 隕石衝突
- 疫病発生
- 生存率の記録

---

## Phase 4: リプレイと記録（未実装）

### 4.1 ゲーム記録
- 各プレイセッションの保存
- 終了理由の記録（勝利、ロボット死亡、絶滅、プレイヤー終了）
- スコア比較機能

### 4.2 リプレイ機能
- タイムラインの再生
- 重要イベントのハイライト
- 統計グラフ（人口推移、スコア推移）

### 4.3 実績とランキング
- 複数回プレイでの累積実績
- ハイスコアランキング
- レア実績のアンロック

---

## Week 8-9: UI/UX改善とバランス調整（未実装）

### UI改善
- レスポンシブデザイン
- アニメーション追加
- ツールチップとヘルプシステム
- チュートリアルモード

### バランス調整
- リソース出現率
- 環境ダメージ量
- スコア計算式
- 難易度設定

---

## 技術スタック

- **Frontend**: React 19 + TypeScript
- **3D**: Three.js (React Three Fiber) + Rapier Physics
- **State**: Zustand 5 with persistence
- **AI**: OpenAI API / Anthropic API
- **Build**: Vite
- **Deploy**: Vercel

---

## 開発フロー

1. **develop ブランチで開発**
2. **ビルド確認**
3. **Vercel プレビューで動作確認**
4. **ユーザー承認後に master へマージ**
5. **バージョンタグ作成**

---

## 現在の状態

- **Version**: v0.2.0（Phase 1 バックエンド完了）
- **Branch**: develop（UI統合済み、日本語化・ログ統合作業中）
- **Next**: アクティビティログの実装、UI日本語化、Phase 2着手準備
